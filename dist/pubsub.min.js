!function(e,n){if("function"!=typeof e)return console.warn("jQuery is not loaded.");var t=e({});function i(e,n){return(e?.data?.priority??10)-(n?.data?.priority??10)}e.getSubscribedEvents=function(){let u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,o=!(arguments.length>1)||void 0===arguments[1]||arguments[1],c={};return("function"==typeof e._data?c=e.extend(!0,{},e._data(t.get(0),"events")||{}):"function"==typeof t.data&&(c=e.extend(!0,{},t.data("events")||{})),void 0===u)?c:u in c?(o&&c[u].sort(i),c[u]):[]},e.subscribe=function(){var e=Object.values(arguments);"number"==typeof e[1]&&(e[1]={priority:e[1]}),t.on.apply(t,e)},e.unsubscribe=function(){t.off.apply(t,arguments)},e.unsubscribeAll=function(){t.off()},e.subscribeOnce=function(){var e=Object.values(arguments);e.length<=2?(e[2]=e[1],e[1]={subscribeOnce:!0}):"number"==typeof e[1]?e[1]={priority:e[1],subscribeOnce:!0}:["object","function"].includes(typeof e[1])&&null!==e[1]&&(e[1].subscribeOnce=!0),t.on.apply(t,e)},e.publish=function(){var n=Object.values(arguments),t=n.shift();return e.getSubscribedEvents(t).forEach(function(i){let u=i.handler.apply(i.data??{},n);void 0!==u&&(n[0]=u),i.data&&["object","function"].includes(typeof i.data)&&"subscribeOnce"in i.data&&i.data.subscribeOnce&&e.unsubscribe(t,i.handler)}),n[0]}}("function"==typeof jQuery?jQuery:void 0);
